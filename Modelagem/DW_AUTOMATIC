SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE IF EXISTS `DIM_VENDEDOR`;
DROP TABLE IF EXISTS `DIM_NOTA`;
DROP TABLE IF EXISTS `DIM_FORMA`;
DROP TABLE IF EXISTS `DIM_CATEGORIA`;
DROP TABLE IF EXISTS `DIM_CLIENTE`;
DROP TABLE IF EXISTS `FATO`;
DROP TABLE IF EXISTS `DIM_PRODUTO`;
DROP TABLE IF EXISTS `DIM_FORNECEDOR`;
DROP TABLE IF EXISTS `DIM_TEMPO`;
SET FOREIGN_KEY_CHECKS = 1;

CREATE TABLE `DIM_VENDEDOR` (
    `IDSK` INTEGER(11) NOT NULL,
    `IDVENDEDOR` INTEGER NOT NULL,
    `INICIO` DATE NOT NULL,
    `FIM` DATE NOT NULL,
    `NOME` VARCHAR NOT NULL,
    `SEXO` VARCHAR NOT NULL,
    `IDGERENTE` INTEGER NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `DIM_NOTA` (
    `IDSK` INTEGER NOT NULL,
    `IDNOTA` INTEGER NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `DIM_FORMA` (
    `IDSK` INTEGER NOT NULL,
    `IDFORMA` INTEGER NOT NULL,
    `FORMA` VARCHAR NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `DIM_CATEGORIA` (
    `IDCATEGORIA` INTEGER NOT NULL,
    `NOME` VARCHAR NOT NULL,
    PRIMARY KEY (`IDCATEGORIA`)
);

CREATE TABLE `DIM_CLIENTE` (
    `IDSK` INTEGER NOT NULL,
    `IDCLIENTE` INTEGER NOT NULL,
    `INICIO` DATE NOT NULL,
    `FIM` DATE NOT NULL,
    `NOME` VARCHAR NOT NULL,
    `SEXO` VARCHAR NOT NULL,
    `EMAIL` VARCHAR NOT NULL,
    `NASCIMENTO` DATE NOT NULL,
    `CIDADE` VARCHAR NOT NULL,
    `ESTADO` VARCHAR NOT NULL,
    `REGIAO` VARCHAR NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `FATO` (
    `IDNOTA` INTEGER NOT NULL,
    `IDCLIENTE` INTEGER NOT NULL,
    `IDVENDEDOR` INTEGER NOT NULL,
    `IDFORMA` INTEGER NOT NULL,
    `IDPRODUTO` INTEGER NOT NULL,
    `IDFORNECEDOR` INTEGER NOT NULL,
    `IDTEMPO` INTEGER NOT NULL,
    `QUANTIDADE` DECIMAL NOT NULL,
    `TOTALITEM` DECIMAL NOT NULL,
    `CUSTOTOTAL` DECIMAL NOT NULL,
    `LUCROTOTAL` DECIMAL NOT NULL
);

CREATE TABLE `DIM_PRODUTO` (
    `IDSK` INTEGER NOT NULL,
    `IDPPRODUTO` INTEGER NOT NULL,
    `INICIO` DATE NOT NULL,
    `FIM` DATE NOT NULL,
    `NOME` VARCHAR NOT NULL,
    `IDCATEGORIA` INTEGER NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `DIM_FORNECEDOR` (
    `IDSK` INTEGER NOT NULL,
    `IDFORNECEDOR` INTEGER NOT NULL,
    `INICIO` DATE NOT NULL,
    `FIM` DATE NOT NULL,
    `NOME` VARCHAR NOT NULL,
    PRIMARY KEY (`IDSK`)
);

CREATE TABLE `DIM_TEMPO` (
    `IDSK` INTEGER NOT NULL,
    `DATA` DATE NOT NULL,
    `DIA` CHAR NOT NULL,
    `DIASEMANA` VARCHAR NOT NULL,
    `MES` CHAR NOT NULL,
    `NOMEMES` VARCHAR NOT NULL,
    `QUARTO` SMALLINT NOT NULL,
    `NOMEQUARTO` VARCHAR NOT NULL,
    `ANO` CHAR NOT NULL,
    `ESTACAOANO` VARCHAR NOT NULL,
    `FIMSEMANA` CHAR NOT NULL,
    `DATACOMPLETA` VARCHAR NOT NULL,
    PRIMARY KEY (`IDSK`)
);
